# schema.graphqlsのQueryの内容に従って定義

# フラグメント名        フラグメントを適用するデータ型
fragment PaginationFragment on PaginationInfo {
  # 取得するフィールド
  page
  hasNextPage
  count
  totalCount
  paginationLength
  hasPreviousPage
}

fragment WorkFragment on Work {
  # 取得するフィールド
  id
  title
  summary
  image_url
  duration
  number_of_people
  language
  role
  url
  brief_story
  created_at
  updated_at
}

query GetUser($id: ID!) {
  user(id: $id) {
    id
    name
    email
    works{
      pageInfo{
        ...PaginationFragment
      }
      nodes{
      ...WorkFragment
      }
    }
  }
}


query GetUserAuth($id: ID!) {
  userAuth(id: $id) {
    id
    name
    email
    works{
      pageInfo{
        ...PaginationFragment
      }
      nodes{
      ...WorkFragment
      }
    }
  }
}

query GetUsers($limit: Int!, $offset: Int) {
  users(limit: $limit, offset: $offset) {
    pageInfo{
      ...PaginationFragment
    }
    nodes{
      id
      name
      works{
        nodes{
          ...WorkFragment
          user{
            id
            name
          }
        }
      }
    }
  }
}

query GetUsersName($limit: Int!, $offset: Int) {
  users(limit: $limit, offset: $offset) {
    pageInfo{
      ...PaginationFragment
    }
    nodes{
      id
      name
        }
  }
}

query GetUserIds($limit: Int!, $offset: Int) {
  users(limit: $limit, offset: $offset) {
    nodes{
      id
    }
  }
}

mutation Login($id: String!, $email: String!) {
  login(id: $id, email: $email)
}
